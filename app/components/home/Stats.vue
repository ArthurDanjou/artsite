<script lang="ts" setup>
import type { Stats } from '~~/types'
import { usePrecision } from '@vueuse/math'

const { locale, locales } = useI18n()
const currentLocale = computed(() => locales.value.find(l => l.code === locale.value))

const { data: stats } = await useFetch<Stats>('/api/stats')
console.log(stats.value)
const { t } = useI18n({
  useScope: 'local',
})

</script>

<template>
  <ClientOnly>
    <div>{{ stats }}</div>
  </ClientOnly>
</template>

<i18n lang="json">
{
  "en": {
    "stats": "I collect some data for {time} years, started the {date}. I've coded for a total of {hours} hours. My best editors are {editors}. My best OS is {os}. My top languages are {languages}.",
    "separator": " and ",
    "tooltip": {
      "date": "That was so long ago ğŸ«£",
      "hours": "That's a lot ğŸ˜®"
    }
  },
  "fr": {
    "stats": "Je collecte des donnÃ©es depuis {time} ans, commencÃ© le {date}. J'ai codÃ© un total de {hours} heures. Mes meilleurs Ã©diteurs sont {editors}. Mon meilleur OS est {os}. Mes langages prÃ©fÃ©rÃ©s sont {languages}.",
    "separator": " et ",
    "tooltip": {
      "date": "C'Ã©tait il y a si longtemps ğŸ«£",
      "hours": "C'est beaucoup ğŸ˜®"
    }
  },
  "es": {
    "stats": "Recopilo datos desde hace {time} aÃ±os, empecÃ© el {date}. He programado durante un total de {hours} horas. Mis mejores editores son {editors}. Mi mejor OS es {os}. Y mis lenguajes favoritos son {languages}.",
    "separator": " y ",
    "tooltip": {
      "date": "hace tato tiempoâ€¦ğŸ«£",
      "hours": "es mucho ğŸ˜®"
    }
  }
}
</i18n>
